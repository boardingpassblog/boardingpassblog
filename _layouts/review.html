---
layout: default
---

{% 
	include ads/banner.html 
	content=site.data.ads.ads_review.reviews 
  %}

<!-- page-title -->
<section class="section bg-secondary pad-title">
	<div class="container maxw">
		<div class="row">
			<div class="col-lg-12">
				<h4>{{ page.title | escape }}</h4>
			</div>
		</div>
	</div>
</section>
<!-- /page-title -->

<!-- blog single -->
<section>
	<div class="container maxw">
		<div class="row">
			<div class="col-lg-9">
				<ul class="list-inline d-flex justify-content-between py-3 margin-left-date-share">
					<div class="d-flex align-items-center">
						<div class="margin-author-share">
							<i class="ti-user mr-2"></i>Por {{ page.author }}
						</div>
					</div>
					<li class="list-inline-item"><i class="ti-calendar mr-2"></i>{{page.date | date: '%d %b, %Y'}}</li>
				</ul>
				<div class="d-flex align-items-center margin-bottom-share">
					{% include social-media-sharing.html %}
					<li class="list-inline-item margin-left-date-share margin-volume-left">
						{% if page.audio %}
						<button id="playButtonPost" class="circle-button margin-circle" onclick="togglePlaybackPost()">
							<i id="playIconPost" class="fas fa-volume-mute"></i>
						</button>
						{% else %}
						<button onclick="toggleSpeech()" class="circle-button margin-circle">
							<i id="speechIcon" class="fas fa-volume-mute"></i>
						</button>
						{% endif %}
					</li>
				</div>
				{% if page.image %}
				<div class="image-holder">					
					<div>
						<img src="{{page.image | relative_url}}" alt="{{page.title}}" class="img-fluid">
						{% if page.image-text %}
						<div class="img-caption">{{ page.image-text }}</div>
						{% endif %}
					</div>
				</div>
			 	{% endif %}
				<div class="content" id="id">
					<article>
						{{ content }}
					</article>
				</div>
				{% include join-group-message.html %}
				{% include carousel-posts.html content=page %}
				{% if site.disqus-identifier %}
				{% include disqus-comments.html %}
				{% endif %}
			</div>
			<div class="col-lg-3">
				{% 
				  include ads/banner.html 
				  content=site.data.ads.ads_review.review-0 
				%}
				{% assign contendorId = "destacados-container-1"%}
        		{% include destacado.html contendorId=contendorId %}
				{% 
				  include ads/banner.html 
				  content=site.data.ads.ads_review.review-1  
				%}
				{% include recientes.html %}
				{% 
				  include ads/banner.html 
				  content=site.data.ads.ads_review.review-2
				%}
				{% assign contendorId = "destacados-container-2"%}
        		{% include destacado.html contendorId=contendorId %}
				{% 
				  include ads/banner.html 
				  content=site.data.ads.ads_review.review-3
				%}
				{% include secciones.html %}
				{% 
				  include ads/banner.html 
				  content=site.data.ads.ads_review.review-4 
				%}
				{% assign contendorId = "destacados-container-3"%}
        		{% include destacado.html contendorId=contendorId %}
				{% 
				  include ads/banner.html 
				  content=site.data.ads.ads_review.review-5
				%}
				{% include feed-twitter.html %}
			  </div> 
		</div>
	</div>
</section>
{% include modal-window.html %}
<!-- /blog single -->

<script src="{{ site.baseurl }}/assets/plugins/howler/howler.min.js"></script>
<script>
	document.querySelector('.share-button').addEventListener('click', function() {
		var shareOptions = document.querySelector('.share-options');
		if (shareOptions.style.display === 'none' || shareOptions.style.display === '') {
			shareOptions.style.display = 'block';
		} else {
			shareOptions.style.display = 'none';
		}
	});

	document.addEventListener('click', function(event) {
		var shareButton = document.querySelector('.share-button');
		var shareOptions = document.querySelector('.share-options');
		var isClickInsideShareButton = shareButton.contains(event.target);
		var isClickInsideShareOptions = shareOptions.contains(event.target);
		var isShareOptionsVisible = shareOptions.style.display === 'block';
		if (!isClickInsideShareButton && !isClickInsideShareOptions && isShareOptionsVisible) {
			shareOptions.style.display = 'none';
		}
	});
	
	var isSpeaking = false;
	var speechUtterance = null;

	function toggleSpeech() {
		if (isSpeaking) {
			responsiveVoice.pause();
			isSpeaking = false;
		} else {
			if (speechUtterance !== null) {
			responsiveVoice.resume();
			} else {
			var articleElement = document.querySelector('article');
			var textToSpeak = articleElement.innerText;
			speechUtterance = responsiveVoice.speak(textToSpeak, 'Spanish Latin American Male', { rate: 1, onend: handleSpeechEnd });
			}
			isSpeaking = true;
		}
		
		updateButtonState();
	}

	function handleSpeechEnd() {
		speechUtterance = null;
		isSpeaking = false;
		updateButtonState();
	}

	function updateButtonState() {
		var speechIcon = document.getElementById('speechIcon');
		
		if (isSpeaking) {
			speechIcon.classList.remove('fa-volume-mute');
			speechIcon.classList.add('fa-volume-up');
		} else {
			speechIcon.classList.remove('fa-volume-up');
			speechIcon.classList.add('fa-volume-mute');
		}
	}

	var sound_post = new Howl({
      src: ['{{ page.audio }}'],
      loop: true
    });

    var isPlayingPost = false;

    function togglePlaybackPost() {
      var playIconPost = document.getElementById('playIconPost');

      if (isPlayingPost) {
        sound_post.pause();
        isPlayingPost = false;
        playIconPost.classList.remove('fa-volume-up');
        playIconPost.classList.add('fa-volume-mute');
      } else {
        sound_post.play();
        isPlayingPost = true;
        playIconPost.classList.remove('fa-volume-mute');
        playIconPost.classList.add('fa-volume-up');
      }
    }
</script>
